<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<header>
  <img src="../../../../../assets/icons/unnamed.jpg" width="70">
  <div class="user">
    <span class="header__name">{{userName['user_second_name']}} {{userName['user_first_name']}}
      {{userName['user_middle_name']}} {{userInfo['vacancy']}}</span>
    <div ngbDropdown class="d-inline-block">
      <img src="../../../../../assets/icons/user.png" width="55"  class="btn btn-outline-primary" id="dropdownBasic1" ngbDropdownToggle>
      <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
        <button ngbDropdownItem (click)="logoutUser()">
          Выйти
        </button>
      </div>
    </div>
  </div>
</header>

<div class="wrapper">
  <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
    <li [ngbNavItem]="1">
      <a ngbNavLink>Студенты</a>
      <ng-template ngbNavContent>
        <table class="users table table-striped">
          <thead>
            <tr>
              <th scope="col">Фамилия</th>
              <th scope="col">Имя</th>
              <th scope="col">Отчество</th>
              <th scope="col">Группа</th>
              <th scope="col">Действия</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let student of studentsList" class="users__user user">
              <td> {{student.user_second_name}}</td>
              <td> {{student.user_first_name}}</td>
              <td> {{student.user_middle_name}}</td>
              <td> {{student.group_name}}</td>
              <td>
                <div class="user__actions">
                  <button class="button" class="btn btn-info">Записать</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </ng-template>
    </li>
    <li [ngbNavItem]="2">
      <a ngbNavLink>Мои студенты</a>
      <ng-template ngbNavContent>
        <table class="users table table-striped">
          <thead>
            <tr>
              <th scope="col">№</th>
              <th scope="col">Фамилия</th>
              <th scope="col">Имя</th>
              <th scope="col">Отчество</th>
              <th scope="col">Группа</th>
              <th scope="col">Телефон</th>
              <th scope="col">Действия</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let student of studentsLector; let i = index" class="users__user user">
              <td>{{i+1}}</td>
              <td>{{student.user_second_name}}</td>
              <td>{{student.user_first_name}}</td>
              <td>{{student.user_middle_name}}</td>
              <td>{{student.group_name}}</td>
              <td></td>
              <td>
                <div class="user__actions">
                  <button class="button" class="btn btn-danger">Удалить</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </ng-template>
    </li>

    <li [ngbNavItem]="3">
      <a ngbNavLink>Темы</a>
      <ng-template ngbNavContent>
<!--        <div>-->
<!--          <label for="institute">Выберите статус</label>-->
<!--          <ng-select   (change)="filterStudentsByGroupId(groupId)"-->
<!--                       [(ngModel)]="groupId"-->
<!--                       [items] = "groupsList"-->
<!--                       bindLabel="group_name"-->
<!--                       bindValue="group_id"-->
<!--                       name="group"-->
<!--                       placeholder="">-->
<!--          </ng-select>-->
<!--          <br>-->
<!--        </div>-->
        <table class="users table table-striped">
          <thead>
            <tr>
              <th scope="col" style="width:50%">Тема</th>
              <th scope="col">Руководитель</th>
              <th scope="col">Студент</th>
              <th scope="col">Действия</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let work of allDiplomWorksListWithInfo" class="users__user user">
              <td> {{work.name}}</td>
              <td> {{work.initials_lectors}}</td>
              <td> {{work.initials_student}}</td>
              <td>
                <div *ngIf="work.id_status == 'FREE'" class="user__actions">
                  <button class="button" class="btn btn-info" (click)="bookDiploma(work.id_diplom_work)">
                    Занять</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </ng-template>
    </li>

    <li [ngbNavItem]="4">
      <a ngbNavLink>Мои темы</a>
      <ng-template ngbNavContent>
        <div class="addButton">
          <button class="add_button btn btn-primary btn-sm ms-3" (click)="open(addGroupModal)">
            <i class="fa fa-plus"></i>
          </button>
        </div>
        <table class="users table table-striped">
          <thead>
            <tr>
              <th scope="col">Тема</th>
              <th scope="col">Студент</th>
              <th scope="col">Действия</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let work of diplomWorksList" class="users__user user">
              <td> {{work.name}}</td>
              <td> {{work.id_student}}</td>
              <td>
                <div>
                  <button class="me-2 btn btn-lg text-dark edit-button">
                    <i class="icon-pencil"></i>
                  </button>
                  <button class="btn btn-lg text-dark delete-button">
                    <i class="icon-trash"></i>
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </ng-template>
    </li>
<!--    <li [ngbNavItem]="5">-->
<!--      <a ngbNavLink>Места</a>-->
<!--      <ng-template ngbNavContent>-->
<!--        <table class="users table table-striped">-->
<!--          <thead>-->
<!--            <tr>-->
<!--              <th scope="col">№</th>-->
<!--              <th scope="col">Студент</th>-->
<!--            </tr>-->
<!--          </thead>-->
<!--          <tbody>-->
<!--            <tr *ngFor="let vacancy of vacancyList; let i = index" class="users__user user">-->
<!--              <td> {{vacancy}}</td>-->
<!--              <td> </td>-->
<!--            </tr>-->
<!--          </tbody>-->
<!--        </table>-->
<!--      </ng-template>-->
<!--    </li>-->
  </ul>
  <div [ngbNavOutlet]="nav"></div>
</div>
